{% extends 'configuracoes/base.html' %}

{% block content %}

<div class="main">
    <nav class="breadcrumb" aria-label="breadcrumbs" style="background-color:#ffff">
        <ul>
            <li><a href="/inicial">Início</a></li>
            <li class="is-active"><a href="">Configurações gerais</a></li>
        </ul>
    </nav>

    <div class="box">
    <h1 class="title" style="text-align:center">Configurações gerais</h1>
        <div style="text-align:center">{{text}}</div>
        <hr>

    {% if da %}
    	<div class="form-row">
            <div class="form-group col-md-5">
                <label for="endereçoPaginaWeb">Endereço da página</label><br>
                {{ da.endereçoPaginaWeb }}
            </div>
            <div class="form-group col-md-5">
                <label for="emailDiaAberto">Email</label><br>
                {{ da.emailDiaAberto }}
            </div>
            <div class="form-group col-md-2">
                <label for="ano">Ano</label><br>
                {{ da.ano }}
            </div>
        </div>
        <label for="dataPropostasAtividades">Propor atividades</label>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="dataPropostasAtividadesIncio">Início</label><br>
                {{ da.dataPropostasAtividadesIncio }}
            </div>
            <div class="form-group col-md-6">
                <label for="dataPorpostaAtividadesFim">Fim</label><br>
                {{ da.dataPorpostaAtividadesFim }}
            </div>
        </div>
        <label for="dataInscriçãoAtividades">Inscrições para as atividades</label>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="dataInscriçãoAtividadesInicio">Início</label><br>
                {{ da.dataInscriçãoAtividadesInicio }}
            </div>
            <div class="form-group col-md-6">
                <label for="dataInscriçãoAtividadesFim">Fim</label><br>
                {{ da.dataInscriçãoAtividadesFim }}
            </div>
        </div>
        <label for="dataDiaAberto">Dia Aberto</label>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="dataDiaAbertoInicio">Início</label><br>
                {{ da.dataDiaAbertoInicio }}
            </div>
            <div class="form-group col-md-6">
                <label for="dataDiaAbertoFim">Fim</label><br>
                {{ da.dataDiaAbertoFim }}
            </div>
        </div>
        <div class="form-row">
            <label for="descrição">Descrição</label><br>
            {{ da.descrição }}
        </div>
        <br>
        <center>
            <div class="field">
                <div class="buttons is-centered">
                    <a class="button is-danger modal-button" data-target="#modal" type="button" style="margin-bottom: 14px; margin-right: 20px; text-decoration:none; color: white;"><span class="icon"><i class="icon is-medium fas fa-times-circle"></i></span><span>Apagar</span></a>
                    <a href="./{{ da.id }}/edit" class="button is-info" type="button" style="margin-bottom: 14px; margin-right: 20px; text-decoration:none"><span class="icon"><i class="icon is-medium fas fa-edit"></i></span><span>Editar</span></a>

                </div>
            </div>

        </center>
    </div>
    {% else %}
        <center>
            <a class="button is-medium is-link is-primary" style="text-align:center" href="./new">Criar</a>
        </center>
    {% endif %}
</div>

<div class="modal" id = "modal">
    <div class="modal-background"></div>
        <div class="modal-card animation-content"><!---->
           <section class="modal-card-body is-titleless">
             <div class="media"><!---->
                <div class="media-content">
                    <p>Tem a certeza que quer eliminar as <b>configurações gerais {{da.ano}}</b>?</p>
                    <p>Ao eliminar irá comprometer todos os registos associados a esta configuração como os <b>menus dos almoços, sessões das atividades, inscrições, tarefas e percursos dos transportes</b>.</p>
                </div>
              </div>
            </section>
            <footer class="modal-card-foot">
              <a class="button" href="" style="text-align:center;text-decoration:none">Cancelar</a>
              <a class="button is-link is-light is-centered is-danger" style="text-align:center;text-decoration:none" href="./{{ da.id }}/delete">Apagar</a>
            </footer>
          </div>
      </section>
    </div>
  </div>
<script>


    $('btn.btnDelete').on('click', function (e) {
        e.preventDefault();
        var id = $(this).closest('tr').data('id');
        $('#myModal').data('id', id).modal('show');
    });

    $('#btnDelteYes').click(function () {
        var id = $('#myModal').data('id');
        $('[data-id=' + id + ']').remove();
        $('#myModal').modal('hide');
    });


       $(".modal-button {{co.id.id}}").click(function() {
          var target = $(this).data("target");
          $("html").addClass("is-clipped");
          $(target).addClass("is-active");
       });

       $(".modal-close").click(function() {
          $("html").removeClass("is-clipped");
          $(this).parent().removeClass("is-active");
       });

    </script>

{% endblock %}